---
layout: post
title: 브라우저 동작 원리
subtitle:
categories: frontend
banner:
  image: https://github.com/dbdpfls/dbdpfls.github.io/assets/103565462/3b97999e-ebae-4020-b6eb-8ba4b01508f0
tags: [frontend]
---

## 브라우저 동작 원리

브라우저는 HTML, CSS, Javascript를 해석해서 화면을 보여주는 소프트웨어입니다. 즉, 웹 정보를 볼 수 있도록 하는 소프트웨어를 말합니다.

### 브라우저 구조

브라우저의 기본 구조는 아래와 같습니다.
![브라우저 구조](https://github.com/dbdpfls/dbdpfls.github.io/assets/103565462/560b9b81-33a8-48dd-a723-e2de49127c3e)

1. **사용자 인터페이스**
   주소 표시줄, 북마크, 홈버튼, 새로고침 버튼 등 요청한 페이지를 보여주는 창을 제외한 나머지 모든 부분입니다.

2. **브라우저 엔진**
   사용자 인터페이스와 렌더링 엔진 사이의 동작을 제어합니다.

3. **렌더링 엔진**
   요청받은 내용을 화면에 표시합니다.

4. **통신**
   HTTP 요청과 같은 네트워크 호출에 사용됩니다.

5. **자바스크립트 해석기**
   자바스크립트 코드를 해석하고 실행합니다.

6. **UI 백엔드**
   기본적인 장치를 그립니다.

7. **자료 저장소**
   자료를 저장하는 계층입니다. Local Storage, 쿠키 등 브라우저 메모리를 활용해 저장하는 영역입니다.

### 렌더링 엔진

렌더링 엔진은 브라우저마다 다릅니다.

- 블링크(Blink) : 크롬, 오페라
- 게코(Gecko) : 파이어폭스, 모질라
- 웹킷(Webkit) : 사파리
- EdgeHTML : 마이크로소프트 엣지

렌더링 엔진의 기본 동작 과정은 다음과 같습니다.
![렌더링엔진동작과정](https://github.com/dbdpfls/dbdpfls.github.io/assets/103565462/127903a3-6402-4709-a1e5-58c0dbd81ddb)

1. HTML 문서를 파싱하여 DOM 트리를 구축합니다.
2. CSS 파일과 함께 포함된 스타일 요소를 파싱하여 CSSOM 트리를 구축합니다.
3. DOM 트리와 CSSOM 트리를 합쳐 렌더 트리를 구축합니다.
4. 렌더 트리의 각 노드를 화면에 어떻게 배치할지 결정합니다.
5. UI 백엔드에서 렌더트리의 각 노드를 그려 화면에 표시합니다.

### 주소창에 www.google.com을 입력하면?

1. 웹 브라우저는 캐싱된 DNS 기록을 통해 해당 도메인 이름과 대응하는 IP가 있는지 확인합니다.

   - 브라우저는 Browser 캐시, OS 캐시, router 캐시, ISP 캐시를 확인합니다.

2. 캐싱된 기록이 없으면 웹 브라우저는 DNS를 조회하여 도메인 이름의 IP주소를 조회합니다.

   - ISP의 DNS 서버를 통해 해당 도메인의 IP를 조회를 합니다.

3. 웹 브라우저가 서버와 TCP 연결을 시작합니다.

   - IP 주소를 얻은 브라우저는 http connection을 통해 서버와 연결합니다.
   - 브라우저가 인터넷에서 서버를 찾으면 TCP 연결을 설정합니다.

4. 웹 브라우저가 HTTP 요청을 서버로 전송합니다.

   - 웹 브라우저가 서버에 연결되면 서버에 HTTP 요청을 전송합니다.
   - 요청을 할 때는 H**TTP 메서드/요청 리소스를 가리키는 경로/통신할 HTTP 버전**을 포함하여 요청합니다.

5. 웹 서버가 요청을 처리하고 웹 브라우저로 응답을 전송합니다.

   - 웹 서버는 요청을 읽고 처리 방법을 결정하여 응답을 생성합니다.
   - 응답에는 상태, 응답 헤더, 리소스를 포함합니다.

6. 웹 브라우저는 화면에 내용을 출력합니다.
   - 브라우저는 HTML을 렌더링하여 화면에 보여줍니다.

<br>

- 참고
  - https://d2.naver.com/helloworld/59361
  - https://aws.amazon.com/ko/blogs/korea/what-happens-when-you-type-a-url-into-your-browser/
