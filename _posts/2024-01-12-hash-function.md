---
layout: post
title: 해시함수
subtitle:
categories: blockchain
banner:
  image: https://github.com/dbdpfls/dbdpfls.github.io/assets/103565462/09e83f6e-26a5-4828-8e11-7e1be0e761e8
tags: [blockchain]
---

## 해시함수란?

해시함수는 어떠한 입력값이 들어와도 고정된 크기의 출력값을 생성하는 함수입니다.
![해시](https://github.com/dbdpfls/dbdpfls.github.io/assets/103565462/f5890276-7adc-4983-89f4-0e3ca9943583)

해싱은 블록체인에서 익명성 보장, 트랜잭션 연결 및 압축, 블록 연결, 무결성 보장의 역할을 합니다.

1. 해시값을 통한 익명성 보장
   공개키를 해싱한 값을 지갑 주소로 사용하면 트랜잭션 기록에서 해시값으로 암호화된 지갑 주소와 송금 및 잔액을 확인할 수 있지만 지갑의 주인이 누구인지는 알 수 없습니다.
2. 무결성 검증

1) 이전 블록의 값을 해싱한 값으로 이전 블록을 가리킵니다. 만약 이전 블록을 해싱한 값이 달라진 경우 이전 블록에 위변조가 일어났음을 알 수 있습니다.
2) 블록의 모든 트랜잭션을 머클 트리 알고리즘으로 하나의 해시값으로 저장합니다. 만약 트랜잭션이 하나라도 변한 경우에 블록에 저장된 해시값도 변하게 됩니다.
3) 해시값을 사용해 채굴 노드 선정
   작업 증명 방식에서는 특정 조건을 만족하는 입력값인 nonce를 가장 먼저 찾는 노드에게 블록을 채굴을 권한을 주고 채굴에 대한 보상을 지급합니다.

### 암호학적 해시함수

해시함수의 값을 통해 원래의 입력값을 유추할 수 없어야 하는 것을 바로 **암호학적 해시함수**라고 합니다.

암호학적 해시함수는 세가지 성질을 가집니다.

- 충돌저항성
  해시 함수에서는 서로 다른 입력값이 동일한 출력값을 갖는 경우가 있는데 이를 **충돌**이라고 합니다. 충돌은 시스템에 치명적인 영향을 미치므로 해시 함수에서 중요한 요소 중 하나입니다.
  충돌 저항성은 동일한 출력값을 갖는 서로 다른 입력값 2개를 찾기 어렵게 하는 것입니다.

  $$H(x) = H(x')일\ 때,\ x와 \ x'를\ 찾기\ 어렵다.$$

- 역상 저항성
  역상 저항성은 해시값(출력값)으로 원래의 입력값을 알아내기 어렵게 하는 것입니다.

  $$y = H(x)일\ 때,\ y = H(x')를 만족하는 \ x'를\ 찾기\ 어렵다.$$

- 제2 역상 저항성
  제2 역상 저항성은 동일한 출력값을 갖는 입력값1 이외의 입력값2를 찾기 어려워야한다는 것을 의미합니다.
  입력값 1과 동일한 출력값을 갖는 입력값 2를 찾기 어렵게 하는 것입니다.

  $$y = H(x)일\ 때,\ H(x) = H(x')를 만족하는 \ x'를\ 찾기\ 어렵다.$$
